<html>
<head>
    <title>CoffeePhysics</title>
    <link href='http://fonts.googleapis.com/css?family=Play:400,700' rel='stylesheet' type='text/css'>
    <style type="text/css" media="screen">

        html, body {
            background: #1a1a1a;
            font-family: 'Play', sans-serif;
            margin: 0;
        }

        .stats {
            position: absolute;
            right: 20px;
            top: 20px;
        }

        #content {
            position: absolute;
            width: 260px;
            left: 20px;
            top: 20px;
        }

        #info {
            background: rgba(0,0,0,0.8);
            padding: 12px 10px;
            margin-bottom: 1px;
            color: #fff;
        }

        #info h1 {
            line-height: 22px;
            font-weight: 300;
            font-size: 18px;
            margin: 0;
        }

        #info h2 {
            line-height: 14px;
            font-weight: 300;
            font-size: 12px;
            color: rgba(255,255,255,0.8);
            margin: 0 0 6px 0;
        }

        #info a {
            text-transform: uppercase;
            text-decoration: none;
            border-bottom: 1px dotted rgba(255,255,255,0.2);
            margin-right: 4px;
            line-height: 20px;
            font-size: 10px;
            color: rgba(255,255,255,0.5);
        }

        #info a:hover {
            border-bottom: 1px dotted rgba(255,255,255,0.6);
            color: rgba(255,255,255,1.0);
        }

        .select {
            margin-bottom: 10px;
        }

        .select ul {
            padding: 0;
            margin: 0;
        }

        .select li {
            list-style: none;
            margin: 1px 0;
        }

        .select a {
            -webkit-transition: all 300ms ease-out;
            background: rgba(0,0,0,0.8);
            text-decoration: none;
            padding-left: 10px;
            line-height: 32px;
            font-size: 12px;
            display: block;
            color: rgba(255,255,255,0.5);
            opacity: 0.2;
        }

        .select a:hover,
        .select a.active {
            color: rgba(255,255,255,1.0);
        }

        .select a.active {
            border-left: 4px solid #fff;
            opacity: 0.5;
        }

        #content:hover .select a {
            opacity: 1.0;
        }

        .fuck {
            background-size: cover;
        }
        .fuck:nth-of-type(0) { background-image: url(/img/preview/alan-wakes-american-nightmare.jpg); }
        .fuck:nth-of-type(1) { background-image: url(/img/preview/alice-madness-returns.jpg); }
        .fuck:nth-of-type(2) { background-image: url(/img/preview/alone-in-the-dark.jpg); }
        .fuck:nth-of-type(3) { background-image: url(/img/preview/amnesia-the-dark-descent.jpg); }
        .fuck:nth-of-type(4) { background-image: url(/img/preview/and-yet-it-moves.jpg); }
        .fuck:nth-of-type(5) { background-image: url(/img/preview/bastion.jpg); }
        .fuck:nth-of-type(6) { background-image: url(/img/preview/batman-arkham-asylum.jpg); }
        .fuck:nth-of-type(7) { background-image: url(/img/preview/batman-arkham-city.jpg); }
        .fuck:nth-of-type(8) { background-image: url(/img/preview/bioshock.jpg); }
        .fuck:nth-of-type(9) { background-image: url(/img/preview/bioshock-2.jpg); }
        .fuck:nth-of-type(10) { background-image: url(/img/preview/bioshock-infinite.jpg); }
        .fuck:nth-of-type(11) { background-image: url(/img/preview/bit-trip-runner.jpg); }
        .fuck:nth-of-type(12) { background-image: url(/img/preview/borderlands-2.jpg); }
        .fuck:nth-of-type(13) { background-image: url(/img/preview/braid.jpg); }
        .fuck:nth-of-type(14) { background-image: url(/img/preview/brutal-legend.jpg); }
        .fuck:nth-of-type(15) { background-image: url(/img/preview/catherine.jpg); }
        .fuck:nth-of-type(16) { background-image: url(/img/preview/cave-story-plus.jpg); }
        .fuck:nth-of-type(17) { background-image: url(/img/preview/cogs.jpg); }
        .fuck:nth-of-type(18) { background-image: url(/img/preview/counter-strike-source.jpg); }
        .fuck:nth-of-type(19) { background-image: url(/img/preview/crayon-physics-deluxe.jpg); }
        .fuck:nth-of-type(20) { background-image: url(/img/preview/dark-souls.jpg); }
        .fuck:nth-of-type(21) { background-image: url(/img/preview/dark-void.jpg); }
        .fuck:nth-of-type(22) { background-image: url(/img/preview/darksiders-i.jpg); }
        .fuck:nth-of-type(23) { background-image: url(/img/preview/darksiders-ii.jpg); }
        .fuck:nth-of-type(24) { background-image: url(/img/preview/day-of-defeat-source.jpg); }
        .fuck:nth-of-type(25) { background-image: url(/img/preview/dead-island.jpg); }
        .fuck:nth-of-type(26) { background-image: url(/img/preview/deadly-premonition.jpg); }
        .fuck:nth-of-type(27) { background-image: url(/img/preview/demons-souls.jpg); }
        .fuck:nth-of-type(28) { background-image: url(/img/preview/devil-may-cry-1.jpg); }
        .fuck:nth-of-type(29) { background-image: url(/img/preview/devil-may-cry-2.jpg); }
        .fuck:nth-of-type(30) { background-image: url(/img/preview/devil-may-cry-3.jpg); }
        .fuck:nth-of-type(31) { background-image: url(/img/preview/devil-may-cry-4.jpg); }
        .fuck:nth-of-type(32) { background-image: url(/img/preview/devil-may-cry-5.jpg); }
        .fuck:nth-of-type(33) { background-image: url(/img/preview/digital-devil-saga.jpg); }
        .fuck:nth-of-type(34) { background-image: url(/img/preview/disgaea.jpg); }
        .fuck:nth-of-type(35) { background-image: url(/img/preview/dungeon-defenders.jpg); }
        .fuck:nth-of-type(36) { background-image: url(/img/preview/eternal-sonata.jpg); }
        .fuck:nth-of-type(37) { background-image: url(/img/preview/final-fantasy-crystal-chronicles.jpg); }
        .fuck:nth-of-type(38) { background-image: url(/img/preview/final-fantasy-i.jpg); }
        .fuck:nth-of-type(39) { background-image: url(/img/preview/final-fantasy-ii.jpg); }
        .fuck:nth-of-type(40) { background-image: url(/img/preview/final-fantasy-iii.jpg); }
        .fuck:nth-of-type(41) { background-image: url(/img/preview/final-fantasy-iv.jpg); }
        .fuck:nth-of-type(42) { background-image: url(/img/preview/final-fantasy-v.jpg); }
        .fuck:nth-of-type(43) { background-image: url(/img/preview/final-fantasy-vi.jpg); }
        .fuck:nth-of-type(44) { background-image: url(/img/preview/final-fantasy-vii.jpg); }
        .fuck:nth-of-type(45) { background-image: url(/img/preview/final-fantasy-viii.jpg); }
        .fuck:nth-of-type(46) { background-image: url(/img/preview/final-fantasy-ix.jpg); }
        .fuck:nth-of-type(47) { background-image: url(/img/preview/final-fantasy-x.jpg); }
        .fuck:nth-of-type(48) { background-image: url(/img/preview/final-fantasy-x-2.jpg); }
        .fuck:nth-of-type(49) { background-image: url(/img/preview/final-fantasy-xi.jpg); }
        .fuck:nth-of-type(50) { background-image: url(/img/preview/final-fantasy-xii.jpg); }
        .fuck:nth-of-type(51) { background-image: url(/img/preview/final-fantasy-xiii.jpg); }
        .fuck:nth-of-type(52) { background-image: url(/img/preview/final-fantasy-xiv.jpg); }
        .fuck:nth-of-type(53) { background-image: url(/img/preview/folklore.jpg); }
        .fuck:nth-of-type(54) { background-image: url(/img/preview/garrys-mod.jpg); }
        .fuck:nth-of-type(55) { background-image: url(/img/preview/gotham-city-imposters.jpg); }
        .fuck:nth-of-type(56) { background-image: url(/img/preview/gratuitous-space-battles.jpg); }
        .fuck:nth-of-type(57) { background-image: url(/img/preview/half-life-2.jpg); }
        .fuck:nth-of-type(58) { background-image: url(/img/preview/half-life-2-episode-one.jpg); }
        .fuck:nth-of-type(59) { background-image: url(/img/preview/half-life-2-episode-two.jpg); }
        .fuck:nth-of-type(60) { background-image: url(/img/preview/harvest-moon-magical-melody.jpg); }
        .fuck:nth-of-type(61) { background-image: url(/img/preview/hitman-blood-money.jpg); }
        .fuck:nth-of-type(62) { background-image: url(/img/preview/hitman-contracts.jpg); }
        .fuck:nth-of-type(63) { background-image: url(/img/preview/hitman-codename-47.jpg); }
        .fuck:nth-of-type(64) { background-image: url(/img/preview/hitman-2-silent-assassin.jpg); }
        .fuck:nth-of-type(65) { background-image: url(/img/preview/hitman-absolution.jpg); }
        .fuck:nth-of-type(66) { background-image: url(/img/preview/just-cause-2.jpg); }
        .fuck:nth-of-type(67) { background-image: url(/img/preview/killing-floor.jpg); }
        .fuck:nth-of-type(68) { background-image: url(/img/preview/kingdom-hearts-1.jpg); }
        .fuck:nth-of-type(69) { background-image: url(/img/preview/kingdom-hearts-2.jpg); }
        .fuck:nth-of-type(70) { background-image: url(/img/preview/la-noire.jpg); }
        .fuck:nth-of-type(71) { background-image: url(/img/preview/left-4-dead.jpg); }
        .fuck:nth-of-type(72) { background-image: url(/img/preview/left-4-dead-2.jpg); }
        .fuck:nth-of-type(73) { background-image: url(/img/preview/legend-of-grimrock.jpg); }
        .fuck:nth-of-type(74) { background-image: url(/img/preview/limbo.jpg); }
        .fuck:nth-of-type(75) { background-image: url(/img/preview/lone-survivor.jpg); }
        .fuck:nth-of-type(76) { background-image: url(/img/preview/lost-odyssey.jpg); }
        .fuck:nth-of-type(77) { background-image: url(/img/preview/machinarium.jpg); }
        .fuck:nth-of-type(78) { background-image: url(/img/preview/magicka.jpg); }
        .fuck:nth-of-type(79) { background-image: url(/img/preview/metal-gear-solid-the-twin-snakes.jpg); }
        .fuck:nth-of-type(80) { background-image: url(/img/preview/metal-gear-solid-2-sons-of-liberty.jpg); }
        .fuck:nth-of-type(81) { background-image: url(/img/preview/metal-gear-solid-3-snake-eater.jpg); }
        .fuck:nth-of-type(82) { background-image: url(/img/preview/metal-gear-solid-4-guns-of-the-patriots.jpg); }
        .fuck:nth-of-type(83) { background-image: url(/img/preview/metal-gear-rising-revengeance.jpg); }
        .fuck:nth-of-type(84) { background-image: url(/img/preview/might-and-magic-clash-of-heroes.jpg); }
        .fuck:nth-of-type(85) { background-image: url(/img/preview/minecraft.jpg); }
        .fuck:nth-of-type(86) { background-image: url(/img/preview/mini-ninjas.jpg); }
        .fuck:nth-of-type(87) { background-image: url(/img/preview/mirrors-edge.jpg); }
        .fuck:nth-of-type(88) { background-image: url(/img/preview/mount-and-blade.jpg); }
        .fuck:nth-of-type(89) { background-image: url(/img/preview/mount-and-blade-warband.jpg); }
        .fuck:nth-of-type(90) { background-image: url(/img/preview/mount-and-blade-with-fire-and-sword.jpg); }
        .fuck:nth-of-type(91) { background-image: url(/img/preview/nier.jpg); }
        .fuck:nth-of-type(92) { background-image: url(/img/preview/okami.jpg); }
        .fuck:nth-of-type(93) { background-image: url(/img/preview/paper-mario.jpg); }
        .fuck:nth-of-type(94) { background-image: url(/img/preview/paper-mario-the-thousand-year-door.jpg); }
        .fuck:nth-of-type(95) { background-image: url(/img/preview/portal.jpg); }
        .fuck:nth-of-type(96) { background-image: url(/img/preview/portal-2.jpg); }
        .fuck:nth-of-type(97) { background-image: url(/img/preview/prince-of-persia-the-forgotten-sands.jpg); }
        .fuck:nth-of-type(98) { background-image: url(/img/preview/prince-of-persia-warrior-within.jpg); }
        .fuck:nth-of-type(99) { background-image: url(/img/preview/prince-of-persia-the-two-thrones.jpg); }
        .fuck:nth-of-type(100) { background-image: url(/img/preview/prince-of-persia.jpg); }
        .fuck:nth-of-type(101) { background-image: url(/img/preview/psychonauts.jpg); }
        .fuck:nth-of-type(102) { background-image: url(/img/preview/shank.jpg); }
        .fuck:nth-of-type(103) { background-image: url(/img/preview/sid-meiers-civilization-v.jpg); }
        .fuck:nth-of-type(104) { background-image: url(/img/preview/silent-hill-hd-collection.jpg); }
        .fuck:nth-of-type(105) { background-image: url(/img/preview/skyrim.jpg); }
        .fuck:nth-of-type(106) { background-image: url(/img/preview/sonic-generations.jpg); }
        .fuck:nth-of-type(107) { background-image: url(/img/preview/spec-ops-the-line.jpg); }
        .fuck:nth-of-type(108) { background-image: url(/img/preview/spiral-knights.jpg); }
        .fuck:nth-of-type(109) { background-image: url(/img/preview/star-ocean-the-last-hope.jpg); }
        .fuck:nth-of-type(110) { background-image: url(/img/preview/star-wars-jedi-knight-ii-jedi-outcast.jpg); }
        .fuck:nth-of-type(111) { background-image: url(/img/preview/star-wars-knights-of-the-old-republic.jpg); }
        .fuck:nth-of-type(112) { background-image: url(/img/preview/super-meat-boy.jpg); }
        .fuck:nth-of-type(113) { background-image: url(/img/preview/super-paper-mario.jpg); }
        .fuck:nth-of-type(114) { background-image: url(/img/preview/superbrothers-sword-and-sworcery-ep.jpg); }
        .fuck:nth-of-type(115) { background-image: url(/img/preview/tales-of-abyss.jpg); }
        .fuck:nth-of-type(116) { background-image: url(/img/preview/tales-of-destiny.jpg); }
        .fuck:nth-of-type(117) { background-image: url(/img/preview/tales-of-destiny-ii.jpg); }
        .fuck:nth-of-type(118) { background-image: url(/img/preview/tales-of-eternia.jpg); }
        .fuck:nth-of-type(119) { background-image: url(/img/preview/tales-of-graces.jpg); }
        .fuck:nth-of-type(120) { background-image: url(/img/preview/tales-of-hearts.jpg); }
        .fuck:nth-of-type(121) { background-image: url(/img/preview/tales-of-innocence.jpg); }
        .fuck:nth-of-type(122) { background-image: url(/img/preview/tales-of-legendia.jpg); }
        .fuck:nth-of-type(123) { background-image: url(/img/preview/tales-of-phantasia.jpg); }
        .fuck:nth-of-type(124) { background-image: url(/img/preview/tales-of-rebirth.jpg); }
        .fuck:nth-of-type(125) { background-image: url(/img/preview/tales-of-symphonia.jpg); }
        .fuck:nth-of-type(126) { background-image: url(/img/preview/tales-of-symphonia-dawn-of-the-new-world.jpg); }
        .fuck:nth-of-type(127) { background-image: url(/img/preview/tales-of-vesperia.jpg); }
        .fuck:nth-of-type(128) { background-image: url(/img/preview/tales-of-xillia.jpg); }
        .fuck:nth-of-type(129) { background-image: url(/img/preview/team-fortress-2.jpg); }
        .fuck:nth-of-type(130) { background-image: url(/img/preview/the-darkness.jpg); }
        .fuck:nth-of-type(131) { background-image: url(/img/preview/the-darkness-ii.jpg); }
        .fuck:nth-of-type(132) { background-image: url(/img/preview/the-legend-of-zelda-ocarina-of-time.jpg); }
        .fuck:nth-of-type(133) { background-image: url(/img/preview/the-legend-of-zelda-majoras-mask.jpg); }
        .fuck:nth-of-type(134) { background-image: url(/img/preview/the-legend-of-zelda-wind-waker.jpg); }
        .fuck:nth-of-type(135) { background-image: url(/img/preview/the-legend-of-zelda-twilight-princess.jpg); }
        .fuck:nth-of-type(136) { background-image: url(/img/preview/the-legend-of-zelda-skyward-sword.jpg); }
        .fuck:nth-of-type(137) { background-image: url(/img/preview/the-witcher-i.jpg); }
        .fuck:nth-of-type(138) { background-image: url(/img/preview/the-witcher-ii.jpg); }
        .fuck:nth-of-type(139) { background-image: url(/img/preview/tomb-raider.jpg); }
        .fuck:nth-of-type(140) { background-image: url(/img/preview/torchlight.jpg); }
        .fuck:nth-of-type(141) { background-image: url(/img/preview/torchlight-2.jpg); }
        .fuck:nth-of-type(142) { background-image: url(/img/preview/trine.jpg); }
        .fuck:nth-of-type(143) { background-image: url(/img/preview/trine-2.jpg); }
        .fuck:nth-of-type(144) { background-image: url(/img/preview/valkyria-chronicles.jpg); }
        .fuck:nth-of-type(145) { background-image: url(/img/preview/vvvvvv.jpg); }
        .fuck:nth-of-type(146) { background-image: url(/img/preview/warhammer-40k-space-marine.jpg); }
        .fuck:nth-of-type(147) { background-image: url(/img/preview/wet.jpg); }
        .fuck:nth-of-type(148) { background-image: url(/img/preview/white-knight-chronicles.jpg); }
        .fuck:nth-of-type(149) { background-image: url(/img/preview/year-walk.jpg); }

    </style>
</head>
<body>

    <div id="container"></div>

    <section id="content">

        <article id="info">
            <header>
                <h1>CoffeePhysics</h1>
                <h2>A Lightweight CoffeeScript Physics Engine</h2>
            </header>
            <a href="https://github.com/soulwire/Coffee-Physics/zipball/master">Download</a>
            <a href="https://github.com/soulwire/Coffee-Physics">View on Github</a>
        </article>

        <nav id="demo-select" class="select"></nav>
        <nav id="renderer-select" class="select">
            <a href="#" data-renderer="WebGLRenderer">WebGL</a>
            <a href="#" data-renderer="CanvasRenderer">Canvas</a>
            <a href="#" data-renderer="DOMRenderer">DOM</a>
        </nav>

    </section>

    <!-- Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <!--<script src="http://cdn.iamwebdeveloper.in/js/stats.js/r11/Stats.js"></script>-->
    <!-- Core -->
    <script src="compiled/base.js"></script>
    <script src="compiled/math/Random.js"></script>
    <script src="compiled/math/Vector.js"></script>
    <!-- Integrators -->
    <script src="compiled/engine/integrator/Integrator.js"></script>
    <script src="compiled/engine/integrator/Euler.js"></script>
    <script src="compiled/engine/integrator/ImprovedEuler.js"></script>
    <script src="compiled/engine/integrator/Verlet.js"></script>
    <!-- Engine -->
    <script src="compiled/engine/Particle.js"></script>
    <script src="compiled/engine/Physics.js"></script>
    <script src="compiled/engine/Spring.js"></script>
    <!-- Behaviours -->
    <script src="compiled/behaviour/Behaviour.js"></script>
    <script src="compiled/behaviour/Attraction.js"></script>
    <script src="compiled/behaviour/Collision.js"></script>
    <script src="compiled/behaviour/ConstantForce.js"></script>
    <script src="compiled/behaviour/EdgeBounce.js"></script>
    <script src="compiled/behaviour/EdgeWrap.js"></script>
    <script src="compiled/behaviour/Wander.js"></script>
    <!-- Demo Renderers -->
    <script src="compiled/demos/renderer/Renderer.js"></script>
    <script src="compiled/demos/renderer/CanvasRenderer.js"></script>
    <script src="compiled/demos/renderer/WebGLRenderer.js"></script>
    <script src="compiled/demos/renderer/DOMRenderer.js"></script>
    <!-- Demos -->
    <script src="compiled/demos/Demo.js"></script>
    <script src="compiled/demos/AttractionDemo.js"></script>
    <script src="compiled/demos/BalloonDemo.js"></script>
    <script src="compiled/demos/BoundsDemo.js"></script>
    <script src="compiled/demos/ClothDemo.js"></script>
    <script src="compiled/demos/ChainDemo.js"></script>
    <script src="compiled/demos/CollisionDemo.js"></script>
    <script>

        (function() {

            // Available demos.
            var DEMOS = {
                'Attraction': AttractionDemo,
                'Balloon':    BalloonDemo,
                'Bounds':     BoundsDemo,
                'Chain':      ChainDemo,
                'Cloth':      ClothDemo,
                'Collision':  CollisionDemo
            };

            var list;
            var demo;
            var stats;
            var items;
            var playing;
            var demoName;
            var renderer;
            var container;

            var $renderer;

            // Initialises the testbed and starts the default demo.
            function init() {

                items = {};
                //stats = new Stats();
                list = $('#demo-select');
                playing = true;
                renderer = 'WebGLRenderer';
                container = $('#container');
                $renderer = $('#renderer-select a');

                var item;

                for (var name in DEMOS) {

                    item = $('<a href="#"/>')
                        .click(generateClick(name))
                        .data('demo', name)
                        .text(name);

                    items[name] = item;
                    list.append(item);
                }

                // Append stats.
                //stats.domElement.className = 'stats';
                //document.body.appendChild(stats.domElement);

                $renderer.click(onRendererSelected);
                $(window).bind('keydown', onKeyDown);

                // Set default demo and start updating.
                setDemo('Attraction');
                update();

                // Highlight current renderer.
                $renderer.each(function(index, el) {
                    var $el = $(el);
                    var type = self[ $el.data('renderer') ];
                    if ( demo.renderer instanceof type ) {
                        $el.addClass('active');
                    }
                });
            }

            // Generates a click handler.
            function generateClick(name) {
                return function() {
                    setDemo(name);
                    return false;
                };
            }

            // Updates current demo.
            function update() {

                requestAnimationFrame(update);

                if (playing && demo) {
                    demo.step();
                }

                //stats.update();
            }

            // Sets the current demo.
            function setDemo(name) {

                demoName = name
                
                // Kill any running demo.
                if (demo) {
                    demo.destroy();
                    demo = null;
                }

                // Initialise new demo.
                demo = new DEMOS[name]();
                demo.init(container.get(0), new self[ renderer ]());

                // Activate / deactivate links.
                for (var id in items) {
                    if (id === name) {
                        items[id].addClass('active');
                    } else {
                        items[id].removeClass('active');
                    }
                }

                // Provide access from console for debugging.
                self.__demo = demo;
            }

            function onRendererSelected(event) {
                
                var $selected = $(event.currentTarget);
                
                renderer = $selected.data('renderer');
                setDemo(demoName);

                $renderer.removeClass('active');
                $selected.addClass('active');

                return false;
            }

            function onKeyDown(event) {

                if (event.which === 32) {

                    event.preventDefault();

                    playing = !playing;
                    
                    if (playing && demo) {
                        demo.physics._clock = new Date().getTime();
                    }
                }
            }

            init();

        })();
        
    </script>
</body>
</html>
